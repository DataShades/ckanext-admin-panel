{#
Creates a markup for a sortable table

name        - The name of table.
items       - List of the items to show
columns     - List of table columns and their configurations
    column attrs:
        name        - column machine name. The item from items must have this attr
        label       - column Label
        type        - type of column - one of: date
        sortable    - enable sorting by column
bulk_check - Add bulk check column
empty_msg       - Message to show if the items is empty (default: No items found for this query).
order_by        - Order by
sort            - Sort by

Examples:

{% import 'admin_panel/macros/sortable_table.html' as macro %}
{{ macro.sortable_table('title') }}

#}

{% if items %}
<table class="table table-light table-primary table-striped table-scrollable table-sortable table-{{ name }}">
    <colgroup>
        {% if bulk_check %}
            <col span="1" style="width: 2%;">
        {% endif %}

        {% for col in columns %}
            <col span="1" style="width: {{ col.width or 'fit-content' }};">
        {% endfor %}
    </colgroup>

    <tbody>
        {% snippet "admin_panel/config/snippets/sortable_table_header.html", item=item, columns=columns, bulk_check=bulk_check, sort=sort, order_by=order_by %}

        {% for item in items %}
            {% if table_row_display %}
                {% snippet table_row_display, item=item, columns=columns, bulk_check=bulk_check %}
            {% else %}
                {% snippet "admin_panel/config/snippets/sortable_table_row.html", item=item, columns=columns, bulk_check=bulk_check, empty_msg %}
            {% endif %}
        {% endfor %}
    </tbody>
</table>
{% else %}
    <p>{{ empty_msg or _("No items found for this query.") }} <a href="{{ request.url_rule }}">{{ _("Clear?") }}</a></p>
{% endif %}
